{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Stark/AI/sep/Sentinel/frontend/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || '';\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || '';\n\nexport const supabase = supabaseUrl && supabaseAnonKey\n  ? createClient(supabaseUrl, supabaseAnonKey)\n  : null;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,gFAAwC;AAC5D,MAAM,kBAAkB,mQAA6C;AAE9D,MAAM,WAAW,uCACpB,IAAA,6NAAY,EAAC,aAAa,mBAC1B"}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Stark/AI/sep/Sentinel/frontend/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { supabase } from '@/lib/supabase';\n\nexport default function LoginPage() {\n  const router = useRouter();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState('');\n\n  const handleEmailLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    \n    if (!email || !password) {\n      setError('Please enter email and password');\n      return;\n    }\n\n    if (password.length < 6) {\n      setError('Password must be at least 6 characters');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const { data, error: authError } = await supabase?.auth.signInWithPassword({ \n        email, \n        password \n      }) ?? { data: null, error: new Error('Supabase not configured') };\n      \n      if (authError) {\n        setError(authError.message || 'Login failed. Please check your credentials.');\n        return;\n      }\n      \n      if (data?.user) {\n        setSuccess('Login successful! Redirecting...');\n        setTimeout(() => {\n          router.push('/');\n          router.refresh();\n        }, 1000);\n      }\n    } catch (err: unknown) {\n      const errorMsg = err instanceof Error ? err.message : 'Login failed';\n      setError(errorMsg);\n      console.error('Login error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleLogin = async () => {\n    setError('');\n    setSuccess('');\n    setLoading(true);\n    try {\n      const redirectTo = typeof window !== 'undefined' ? `${window.location.origin}/auth/callback` : undefined;\n      const { error: authError } = await supabase?.auth.signInWithOAuth({\n        provider: 'google',\n        options: { redirectTo }\n      }) ?? { error: new Error('Supabase not configured') };\n      if (authError) {\n        setError(authError.message || 'Google sign-in failed');\n        return;\n      }\n      setSuccess('Redirecting to Google...');\n    } catch (err: unknown) {\n      const errorMsg = err instanceof Error ? err.message : 'Google sign-in failed';\n      setError(errorMsg);\n      console.error('Google login error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      background: 'linear-gradient(135deg, #0f172a 0%, #1e293b 100%)',\n      padding: '20px'\n    }}>\n      <div style={{\n        width: '100%',\n        maxWidth: '400px',\n        background: 'rgba(30,41,59,0.8)',\n        borderRadius: '16px',\n        padding: '32px',\n        border: '1px solid rgba(255,255,255,0.1)'\n      }}>\n        <h1 style={{ color: '#fff', fontSize: '1.5rem', marginBottom: '8px' }}>Sign in to Sentinel</h1>\n        <p style={{ color: '#94a3b8', fontSize: '14px', marginBottom: '24px' }}>Track expenses and reach your savings goals</p>\n\n        {error && (\n          <div style={{ \n            background: 'rgba(239,68,68,0.2)', \n            color: '#fca5a5', \n            padding: '12px', \n            borderRadius: '8px', \n            marginBottom: '16px', \n            fontSize: '14px',\n            border: '1px solid rgba(239,68,68,0.3)'\n          }}>\n            {error}\n          </div>\n        )}\n\n        {success && (\n          <div style={{ \n            background: 'rgba(34,197,94,0.2)', \n            color: '#86efac', \n            padding: '12px', \n            borderRadius: '8px', \n            marginBottom: '16px', \n            fontSize: '14px',\n            border: '1px solid rgba(34,197,94,0.3)'\n          }}>\n            {success}\n          </div>\n        )}\n\n        <form onSubmit={handleEmailLogin} style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n            autoComplete=\"email\"\n            disabled={loading}\n            style={{\n              padding: '12px 16px',\n              borderRadius: '8px',\n              border: '1px solid rgba(255,255,255,0.2)',\n              background: 'rgba(15,23,42,0.6)',\n              color: '#fff',\n              fontSize: '16px',\n              opacity: loading ? 0.6 : 1\n            }}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n            autoComplete=\"current-password\"\n            minLength={6}\n            disabled={loading}\n            style={{\n              padding: '12px 16px',\n              borderRadius: '8px',\n              border: '1px solid rgba(255,255,255,0.2)',\n              background: 'rgba(15,23,42,0.6)',\n              color: '#fff',\n              fontSize: '16px',\n              opacity: loading ? 0.6 : 1\n            }}\n          />\n          <button\n            type=\"submit\"\n            disabled={loading}\n            style={{\n              padding: '12px 24px',\n              borderRadius: '8px',\n              background: 'linear-gradient(90deg, #3b82f6, #2563eb)',\n              color: '#fff',\n              border: 'none',\n              fontWeight: 600,\n              cursor: loading ? 'not-allowed' : 'pointer',\n              opacity: loading ? 0.7 : 1,\n              transition: 'opacity 0.2s'\n            }}\n          >\n            {loading ? 'Signing in...' : 'Sign in'}\n          </button>\n        </form>\n\n        <div style={{ display: 'flex', alignItems: 'center', gap: '16px', margin: '20px 0' }}>\n          <div style={{ flex: 1, height: '1px', background: 'rgba(255,255,255,0.2)' }} />\n          <span style={{ color: '#64748b', fontSize: '13px' }}>or</span>\n          <div style={{ flex: 1, height: '1px', background: 'rgba(255,255,255,0.2)' }} />\n        </div>\n\n        <button\n          onClick={handleGoogleLogin}\n          disabled={loading || !supabase}\n          style={{\n            width: '100%',\n            padding: '12px 24px',\n            borderRadius: '8px',\n            background: 'rgba(255,255,255,0.1)',\n            color: '#fff',\n            border: '1px solid rgba(255,255,255,0.2)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: '8px',\n            cursor: loading || !supabase ? 'not-allowed' : 'pointer',\n            opacity: loading || !supabase ? 0.7 : 1\n          }}\n        >\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/><path fill=\"currentColor\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/><path fill=\"currentColor\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/><path fill=\"currentColor\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/></svg>\n          Continue with Google\n        </button>\n\n        <p style={{ color: '#94a3b8', fontSize: '14px', marginTop: '24px', textAlign: 'center' }}>\n          Don&apos;t have an account?{' '}\n          <Link href=\"/signup\" style={{ color: '#60a5fa', textDecoration: 'none', fontWeight: 500 }}>Sign up</Link>\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}