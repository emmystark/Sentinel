{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Stark/AI/sep/Sentinel/frontend/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || '';\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || '';\n\nexport const supabase = supabaseUrl && supabaseAnonKey\n  ? createClient(supabaseUrl, supabaseAnonKey)\n  : null;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,gFAAwC;AAC5D,MAAM,kBAAkB,mQAA6C;AAE9D,MAAM,WAAW,uCACpB,IAAA,6NAAY,EAAC,aAAa,mBAC1B"}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/Stark/AI/sep/Sentinel/frontend/src/app/signup/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { supabase } from '@/lib/supabase';\n\nexport default function SignupPage() {\n  const router = useRouter();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState('');\n\n  const handleEmailSignup = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n\n    if (!email) {\n      setError('Please enter your email');\n      return;\n    }\n\n    if (password.length < 8) {\n      setError('Password must be at least 8 characters');\n      return;\n    }\n\n    if (password !== confirmPassword) {\n      setError('Passwords do not match');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      // Sign up without email verification\n      const { data, error: authError } = await supabase?.auth.signUp({\n        email,\n        password,\n        options: { \n          data: { \n            name: name || email.split('@')[0]\n          },\n          emailRedirectTo: undefined\n        }\n      }) ?? { data: null, error: new Error('Supabase not configured') };\n      \n      if (authError) {\n        setError(authError.message || 'Signup failed');\n        return;\n      }\n      \n      if (data?.user) {\n        // Auto-login after signup\n        const { error: loginError } = await supabase?.auth.signInWithPassword({\n          email,\n          password\n        }) ?? { error: new Error('Auto-login failed') };\n        \n        if (loginError) {\n          setSuccess('Account created! Logging you in...');\n        } else {\n          setSuccess('Account created! Redirecting to dashboard...');\n        }\n        \n        setTimeout(() => {\n          router.push('/');\n          router.refresh();\n        }, 2000);\n      }\n    } catch (err: unknown) {\n      const errorMsg = err instanceof Error ? err.message : 'Signup failed';\n      setError(errorMsg);\n      console.error('Signup error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleSignup = async () => {\n    setError('');\n    setSuccess('');\n    setLoading(true);\n    try {\n      const redirectTo = typeof window !== 'undefined' ? `${window.location.origin}/auth/callback` : undefined;\n      const { error: authError } = await supabase?.auth.signInWithOAuth({\n        provider: 'google',\n        options: { redirectTo }\n      }) ?? { error: new Error('Supabase not configured') };\n      if (authError) {\n        setError(authError.message || 'Google sign-up failed');\n        return;\n      }\n      setSuccess('Redirecting to Google...');\n    } catch (err: unknown) {\n      const errorMsg = err instanceof Error ? err.message : 'Google sign-up failed';\n      setError(errorMsg);\n      console.error('Google signup error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const passwordStrength = password.length >= 8 ? 'âœ“ Strong' : `${password.length}/8`;\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      background: 'linear-gradient(135deg, #0f172a 0%, #1e293b 100%)',\n      padding: '20px'\n    }}>\n      <div style={{\n        width: '100%',\n        maxWidth: '400px',\n        background: 'rgba(30,41,59,0.8)',\n        borderRadius: '16px',\n        padding: '32px',\n        border: '1px solid rgba(255,255,255,0.1)'\n      }}>\n        <h1 style={{ color: '#fff', fontSize: '1.5rem', marginBottom: '8px' }}>Create account</h1>\n        <p style={{ color: '#94a3b8', fontSize: '14px', marginBottom: '24px' }}>Join Sentinel to track expenses and save smarter</p>\n\n        {error && (\n          <div style={{ \n            background: 'rgba(239,68,68,0.2)', \n            color: '#fca5a5', \n            padding: '12px', \n            borderRadius: '8px', \n            marginBottom: '16px', \n            fontSize: '14px',\n            border: '1px solid rgba(239,68,68,0.3)'\n          }}>\n            {error}\n          </div>\n        )}\n\n        {success && (\n          <div style={{ \n            background: 'rgba(34,197,94,0.2)', \n            color: '#86efac', \n            padding: '12px', \n            borderRadius: '8px', \n            marginBottom: '16px', \n            fontSize: '14px',\n            border: '1px solid rgba(34,197,94,0.3)'\n          }}>\n            {success}\n          </div>\n        )}\n\n        <form onSubmit={handleEmailSignup} style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n          <input\n            type=\"text\"\n            placeholder=\"Name (optional)\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            autoComplete=\"name\"\n            disabled={loading}\n            style={{\n              padding: '12px 16px',\n              borderRadius: '8px',\n              border: '1px solid rgba(255,255,255,0.2)',\n              background: 'rgba(15,23,42,0.6)',\n              color: '#fff',\n              fontSize: '16px',\n              opacity: loading ? 0.6 : 1\n            }}\n          />\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n            autoComplete=\"email\"\n            disabled={loading}\n            style={{\n              padding: '12px 16px',\n              borderRadius: '8px',\n              border: '1px solid rgba(255,255,255,0.2)',\n              background: 'rgba(15,23,42,0.6)',\n              color: '#fff',\n              fontSize: '16px',\n              opacity: loading ? 0.6 : 1\n            }}\n          />\n          <div style={{ position: 'relative' }}>\n            <input\n              type=\"password\"\n              placeholder=\"Password (min 8 characters)\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n              autoComplete=\"new-password\"\n              minLength={8}\n              disabled={loading}\n              style={{\n                width: '100%',\n                padding: '12px 16px',\n                borderRadius: '8px',\n                border: '1px solid rgba(255,255,255,0.2)',\n                background: 'rgba(15,23,42,0.6)',\n                color: '#fff',\n                fontSize: '16px',\n                boxSizing: 'border-box',\n                opacity: loading ? 0.6 : 1\n              }}\n            />\n            {password && (\n              <span style={{\n                position: 'absolute',\n                right: '12px',\n                top: '50%',\n                transform: 'translateY(-50%)',\n                fontSize: '12px',\n                color: password.length >= 8 ? '#86efac' : '#fbbf24'\n              }}>\n                {passwordStrength}\n              </span>\n            )}\n          </div>\n          <input\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n            required\n            autoComplete=\"new-password\"\n            minLength={8}\n            disabled={loading}\n            style={{\n              padding: '12px 16px',\n              borderRadius: '8px',\n              border: '1px solid rgba(255,255,255,0.2)',\n              background: 'rgba(15,23,42,0.6)',\n              color: '#fff',\n              fontSize: '16px',\n              opacity: loading ? 0.6 : 1\n            }}\n          />\n          <button\n            type=\"submit\"\n            disabled={loading || password !== confirmPassword || password.length < 8}\n            style={{\n              padding: '12px 24px',\n              borderRadius: '8px',\n              background: 'linear-gradient(90deg, #10b981, #059669)',\n              color: '#fff',\n              border: 'none',\n              fontWeight: 600,\n              cursor: loading || password !== confirmPassword || password.length < 8 ? 'not-allowed' : 'pointer',\n              opacity: loading || password !== confirmPassword || password.length < 8 ? 0.7 : 1,\n              transition: 'opacity 0.2s'\n            }}\n          >\n            {loading ? 'Creating account...' : 'Sign up'}\n          </button>\n        </form>\n\n        <div style={{ display: 'flex', alignItems: 'center', gap: '16px', margin: '20px 0' }}>\n          <div style={{ flex: 1, height: '1px', background: 'rgba(255,255,255,0.2)' }} />\n          <span style={{ color: '#64748b', fontSize: '13px' }}>or</span>\n          <div style={{ flex: 1, height: '1px', background: 'rgba(255,255,255,0.2)' }} />\n        </div>\n\n        <button\n          onClick={handleGoogleSignup}\n          disabled={loading || !supabase}\n          style={{\n            width: '100%',\n            padding: '12px 24px',\n            borderRadius: '8px',\n            background: 'rgba(255,255,255,0.1)',\n            color: '#fff',\n            border: '1px solid rgba(255,255,255,0.2)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: '8px',\n            cursor: loading || !supabase ? 'not-allowed' : 'pointer',\n            opacity: loading || !supabase ? 0.7 : 1\n          }}\n        >\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/><path fill=\"currentColor\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/><path fill=\"currentColor\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/><path fill=\"currentColor\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/></svg>\n          Continue with Google\n        </button>\n\n        <p style={{ color: '#94a3b8', fontSize: '14px', marginTop: '24px', textAlign: 'center' }}>\n          Already have an account?{' '}\n          <Link href=\"/login\" style={{ color: '#60a5fa', textDecoration: 'none', fontWeight: 500 }}>Sign in</Link>\n        </p>\n      </div>\n\n    </div>\n\n  );\n}\n"],"names":[],"mappings":"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"}}]
}